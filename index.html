<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MDCAT Fail</title>
<link rel="icon" href="https://i.postimg.cc/cJzdRhcZ/M-pe.png">
</head>
<body style="background-color: black; color: white; text-align: center; font-family: 'Arial', sans-serif; margin: 0; padding: 0;">
    <!-- Navigation Menu -->
    <nav id="navbar" style="background-color: #222; padding: 10px 0; position: fixed; top: 0; width: 100%; display: flex; justify-content: center; gap: 10px; transform: translateY(-100%); transition: transform 1s ease-in-out; display: none;">
        <a href="index.html" style="color: #cb9f5e; text-decoration: none;">Home</a>
        <a href="courses.html" style="color: #cb9f5e; text-decoration: none;">Courses</a>
        <a href="register.html" style="color: #cb9f5e; text-decoration: none;">Register</a>
        <a href="aboutus.html" style="color: #cb9f5e; text-decoration: none;">About Us</a>
        <a href="contactus.html" style="color: #cb9f5e; text-decoration: none;">Contact Us</a>
    </nav>

    <!-- Logo -->
    <header>
        <img id="logo" src="https://i.postimg.cc/cJzdRhcZ/M-pe.png" alt="Logo" style="width: 90%; max-width: 500px; cursor: pointer; animation: fadeIn 1s ease-in-out;">
        <audio id="logo-sound" src="mixkit-sweet-kitty-meow-93.wav"></audio>
    </header>

    <!-- Login Form -->
    <section id="login" style="margin: 100px auto; width: 90%; max-width: 400px; text-align: left; display: none; opacity: 0; transition: opacity 1s;">
        <form style="background-color: rgba(255,255,255,0.1); border-radius: 10px; backdrop-filter: blur(12px); border: 2px solid rgba(255,255,255,0.15); box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3); padding: 40px; transform: translateY(50px); transition: transform 0.8s, opacity 1s;">
            <h3 style="font-family: 'Poppins', sans-serif; font-size: 1.8rem; font-weight: 600; text-align: center; color: #ffffff; margin-bottom: 20px;">
                Login Here
            </h3>
            <label for="username" style="font-size: 1rem; font-weight: 500; color: #ffffff; display: block; margin-bottom: 10px; font-family: 'Poppins', sans-serif;">Email</label>
            <input type="email" id="username" placeholder="Enter your email" style="width: 100%; height: 50px; padding: 0 10px; font-size: 1rem; color: #fff; background-color: rgba(255,255,255,0.07); border: none; border-radius: 5px; outline: none; margin-bottom: 20px; font-family: 'Poppins', sans-serif;">

            <label for="password" style="font-size: 1rem; font-weight: 500; color: #ffffff; display: block; margin-bottom: 10px; font-family: 'Poppins', sans-serif;">Password</label>
            <input type="password" id="password" placeholder="Enter your password" style="width: 100%; height: 50px; padding: 0 10px; font-size: 1rem; color: #fff; background-color: rgba(255,255,255,0.07); border: none; border-radius: 5px; outline: none; margin-bottom: 20px; font-family: 'Poppins', sans-serif;">

            <div style="margin: 20px 0; display: flex; align-items: center;">
                <input type="checkbox" id="remember-me" style="width: 20px; height: 20px; margin-right: 10px; cursor: pointer;">
                <label for="remember-me" style="color: #ffffff; font-size: 1rem; font-family: 'Poppins', sans-serif; cursor: pointer;">Remember Me</label>
            </div>

            <button type="button" style="width: 100%; padding: 15px; font-size: 1.2rem; font-weight: 600; text-align: center; color: black; background-color: #cb9f5e; border: none; border-radius: 5px; cursor: pointer; font-family: 'Poppins', sans-serif;">
                <a href="userdashboard.html" style="color: black; text-decoration: none;"> Log In</a>
            </button>

            <div style="display: flex; justify-content: space-between; gap: 10px; margin: 20px 0;">
                <button type="button" style="width: 100%; padding: 10px; font-size: 1rem; font-weight: 500; text-align: center; background-color: #cb9f5e; color: black; border: none; border-radius: 5px; cursor: pointer; font-family: 'Poppins', sans-serif;">
                    Google
                </button>
                <button type="button" style="width: 100%; padding: 10px; font-size: 1rem; font-weight: 500; text-align: center; background-color: #cb9f5e; color: black; border: none; border-radius: 5px; cursor: pointer; font-family: 'Poppins', sans-serif;">
                    Facebook
                </button>
            </div>

            <p style="text-align: center; margin-top: 20px; color: #ffffff; font-family: 'Poppins', sans-serif; font-size: 1rem;">
                <a href="register.html" style="color: #cb9f5e; text-decoration: none;">Don't have an account?</a>
            </p>
        </form>
    </section>

    <footer id="footer" style="color:#black; display: none;">
        <p>&copy; 2025 All Rights Reserved.</p>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
    const logo = document.getElementById("logo");
    const navbar = document.getElementById("navbar");
    const loginSection = document.getElementById("login");
    const logoSound = document.getElementById("logo-sound");
    const footer = document.getElementById("footer");
    const loginButton = loginSection.querySelector("button");
    const usernameInput = document.getElementById("username");
    const passwordInput = document.getElementById("password");
    const rememberMeCheckbox = document.getElementById("remember-me");

    // Simulated user database (Replace with API integration)
    const users = [
        { email: "test@example.com", password: "123456", name: "John Doe" },
    ];

    // Show Navbar, Login Form, and Footer on Logo Click
    logo.addEventListener("click", () => {
        logoSound.play();

        // Show and animate navbar
        navbar.style.display = "flex";
        navbar.style.transform = "translateY(0)";

        // Animate logo
        logo.style.animation = "none";
        setTimeout(() => {
            logo.style.marginTop = "100px";
            logo.style.transition = "margin 1s ease-in-out";
        }, 100);

        // Show login form
        loginSection.style.display = "block";
        setTimeout(() => {
            loginSection.style.opacity = "1";
            loginSection.querySelector("form").style.transform = "translateY(0)";
        }, 100);

        // Show footer
        setTimeout(() => {
            footer.style.display = "block";
        }, 5000);
    });

    // Login Form Validation and Authentication
    loginButton.addEventListener("click", () => {
        const email = usernameInput.value.trim();
        const password = passwordInput.value.trim();

        if (!email || !password) {
            alert("Please fill in all fields!");
            return;
        }

        // Validate user credentials
        const user = users.find((u) => u.email === email && u.password === password);
        if (user) {
            // Save session if "Remember Me" is checked
            if (rememberMeCheckbox.checked) {
                localStorage.setItem("user", JSON.stringify(user));
            }

            // Redirect to dashboard
            alert(`Welcome back, ${user.name}!`);
            window.location.href = "userdashboard.html";
        } else {
            alert("Invalid email or password.");
        }
    });

    // Maintain Login State (if "Remember Me" was checked)
    const savedUser = localStorage.getItem("user");
    if (savedUser) {
        const user = JSON.parse(savedUser);
        alert(`Welcome back, ${user.name}!`);
        window.location.href = "userdashboard.html";
    }
});

const express = require('express');
const bcrypt = require('bcrypt');
const jwt = require('jsonwebtoken');
const User = require('./models/User'); // Assuming a User model is defined

const app = express();
app.use(express.json());

app.post('/api/register', async (req, res) => {
  try {
    const { email, password } = req.body;
    const hashedPassword = await bcrypt.hash(password, 10);
    const user = new User({ email, password: hashedPassword });
    await user.save();
    res.status(201).send('User registered successfully');
  } catch (error) {
    res.status(500).send('Error registering user');
  }
});

app.listen(3000, () => console.log('Server running on port 3000'));
app.post('/api/login', async (req, res) => {
  try {
    const { email, password } = req.body;
    const user = await User.findOne({ email });
    if (!user || !(await bcrypt.compare(password, user.password))) {
      return res.status(400).send('Invalid email or password');
    }
    const token = jwt.sign({ userId: user._id }, 'your_jwt_secret');
    res.cookie('token', token, { httpOnly: true }).send('Login successful');
  } catch (error) {
    res.status(500).send('Error logging in');
  }
});

app.post('/api/reset-password', async (req, res) => {
  try {
    const { email } = req.body;
    // Logic to send password reset email goes here
    res.send('Password reset link sent to email');
  } catch (error) {
    res.status(500).send('Error sending password reset link');
  }
});
app.get('/api/session', (req, res) => {
  try {
    const token = req.cookies.token;
    if (!token) return res.status(401).send('Not authenticated');
    const payload = jwt.verify(token, 'your_jwt_secret');
    res.send('Authenticated');
  } catch (error) {
    res.status(500).send('Error managing session');
  }
});
const Course = require('./models/Course'); // Assuming a Course model is defined

app.get('/api/courses', async (req, res) => {
  try {
    const courses = await Course.find();
    res.json(courses);
  } catch (error) {
    res.status(500).send('Error fetching courses');
  }
});
const Enrollment = require('./models/Enrollment'); // Assuming an Enrollment model is defined

app.post('/api/enroll', async (req, res) => {
  try {
    const { userId, courseId } = req.body;
    const enrollment = new Enrollment({ userId, courseId });
    await enrollment.save();
    res.status(201).send('Enrolled successfully');
  } catch (error) {
    res.status(500).send('Error enrolling in course');
  }
});
const Progress = require('./models/Progress'); // Assuming a Progress model is defined

app.get('/api/progress', async (req, res) => {
  try {
    const { userId } = req.query;
    const progress = await Progress.find({ userId });
    res.json(progress);
  } catch (error) {
    res.status(500).send('Error fetching progress');
  }
});
    </script>
</body>
</html>
